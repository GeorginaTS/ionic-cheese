<ion-card
  class="cheese-detail-card"
  style="padding: var(--spacing-md); cursor: pointer"
  (click)="onCheeseCardClick()"
>
  <div style="display: flex; gap: var(--spacing-md); align-items: flex-start">
    <!-- Columna Izquierda: Información -->
    <div class="cheese-info-container" style="flex: 1">
      <!-- Línea 1: Título del formatge -->
      <ion-card-title
        class="cheese-title-primary"
        style="margin: 0; line-height: 1.2"
        >{{ cheese.name }}</ion-card-title
      >

      <!-- Línea 2: Usuario y fecha -->
      <div class="cheese-info-row">
        <app-user-displayname [userId]="cheese.userId"></app-user-displayname>
        <span style="color: var(--ion-color-medium)">•</span>
        <span style="color: var(--ion-color-medium)">{{
          cheese.date | date : "MMM yyyy"
        }}</span>
      </div>

      <!-- Línea 3: Información de la leche -->
      <div
        style="
          font-size: var(--font-size-sm);
          color: var(--ion-color-medium);
          line-height: 1.4;
        "
      >
        Made from {{ cheese.milkQuantity }}L of {{ cheese.milkOrigin }}
        {{ cheese.milkType }} milk
      </div>
    </div>

    <!-- Columna Derecha: Foto -->
    <div style="width: 5rem; height: 5rem; flex-shrink: 0">
      <img
        [src]="imageUrl"
        [alt]="cheese.name"
        (error)="onImageError($event)"
        style="
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: var(--border-radius-md);
        "
      />
    </div>
  </div>

  <!-- Actions -->
  <div class="post-actions-container">
    <ion-button
      fill="clear"
      size="small"
      (click)="onLikeCheese($event, cheese._id)"
      class="post-action-button"
    >
      <ion-icon name="heart-outline"></ion-icon>
      Like
    </ion-button>
    <ion-button
      fill="clear"
      size="small"
      (click)="
        onShareCheese($event, cheese.name, 'Check out this amazing cheese!')
      "
      class="post-action-button"
    >
      <ion-icon name="share-outline"></ion-icon>
      Share
    </ion-button>
  </div>
</ion-card>
